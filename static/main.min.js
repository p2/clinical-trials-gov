/**
 *  Top level JavaScript defining globals and utility functions.
 */function didClickProblem(e){var t=$("#problem_list"),n=$("#"+e);if(!n.is("*")){alert("Error");return}if(!n.hasClass("active")){n.addClass("active");t.find("li").each(function(t,n){e!=n.getAttribute("id")&&$(n).slideUp("fast")});var r=$("#"+e).find("div.bigger").text();r||(r="diabetic cardiomyopathy");_initTrialSearch(r)}else{t.find("li").each(function(e,t){$(t).slideDown("fast")});n.removeClass("active")}}function _initTrialSearch(e){$("#trials").empty().text('Searching for "'+e+'" trials...')}function compareMedByNameASC(e,t){return"sp:drugName"in e?"dcterms:title"in e["sp:drugName"]?"sp:drugName"in t?"dcterms:title"in t["sp:drugName"]?e["sp:drugName"]["dcterms:title"]<t["sp:drugName"]["dcterms:title"]?-1:e["sp:drugName"]["dcterms:title"]>t["sp:drugName"]["dcterms:title"]?1:0:-1:-1:1:1}function compareProblemByNameASC(e,t){return"sp:problemName"in e?"dcterms:title"in e["sp:problemName"]?"sp:problemName"in t?"dcterms:title"in t["sp:problemName"]?e["sp:problemName"]["dcterms:title"]<t["sp:problemName"]["dcterms:title"]?-1:e["sp:problemName"]["dcterms:title"]>t["sp:problemName"]["dcterms:title"]?1:0:-1:-1:1:1}function compareByDateDESC(e,t){return"date"in e?"date"in t?parseInt(e.date)<parseInt(t.date)?1:parseInt(e.date)>parseInt(t.date)?-1:0:-1:1}var _ruleCtrl=null,_reportCtrl=null,_globals={};$(document).ready(function(){window!=window.top&&$("#back_to_patient_select").hide();$.ajax({url:"demographics",dataType:"json"}).always(function(e,t,n){var r="success"==t?e:"parsererror"==t?{}:null,i={};r?i=r:console.warn("No good response for demographics",e,n);$("#patient_overview").html("templates/patient_demographics.ejs",{demo:i})});$.ajax({url:"problems",dataType:"json"}).always(function(e,t,n){var r="success"==t?e:"parsererror"==t?{}:null;if(r)$("#patient_problems").html("templates/patient_problems.ejs",{data:r});else{$("#patient_problems").text("Could not load the problem list, see the console for details");console.warn("No good response for problems",e,n)}})});